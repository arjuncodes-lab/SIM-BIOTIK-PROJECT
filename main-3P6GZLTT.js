import{$ as A,H as y,K as _,L as F,M as I,N as M,O as w,P as S,S as T,V as E,W as C,X as L,Y as N,_ as R,aa as D,ba as k,da as G,l as s,m as d,n as u,p as f,q as l,r as n,s as i,t as p,v as x,w as h,x as a,z as b}from"./chunk-MHXSUZI2.js";function O(e,r){if(e&1&&(n(0,"div",13),a(1),i()),e&2){let o=h();s(),b(" ",o.successMessage," ")}}function B(e,r){if(e&1&&(n(0,"div",14),a(1),i()),e&2){let o=h();s(),b(" ",o.errorMessage," ")}}function V(e,r){e&1&&(n(0,"div",15),a(1," Username is required "),i())}function U(e,r){e&1&&(n(0,"div",15),a(1," Password is required "),i())}var g=class e{constructor(r,o,t){this.fb=r;this.http=o;this.router=t}loginForm;loading=!1;successMessage="";errorMessage="";ngOnInit(){this.loginForm=this.fb.group({username:["",C.required],password:["",C.required]})}onSubmit(){if(this.loginForm.invalid)return;let{username:r,password:o}=this.loginForm.value;this.loading=!0,this.successMessage="",this.errorMessage="",this.http.post("du-test-api.simbiotiktech.in/users/login",{username:r,password:o},{headers:{"Content-Type":"application/json"}}).subscribe({next:t=>{this.loading=!1,t?.accessToken&&(this.successMessage="Login successful! Redirecting...",localStorage.setItem("authToken",t.accessToken),setTimeout(()=>{this.router.navigate(["/practice-tests"])},1e3))},error:t=>{this.loading=!1,this.errorMessage=t.error.message||t.message}})}static \u0275fac=function(o){return new(o||e)(d(k),d(I),d(S))};static \u0275cmp=u({type:e,selectors:[["app-login"]],decls:19,vars:6,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100",2,"background-color","blueviolet"],[1,"card","p-4","border-0",2,"width","360px","box-shadow","0 4px 20px #d7b83c"],[1,"text-center","mb-4","text-primary"],["class","alert alert-success text-center py-2","role","alert",4,"ngIf"],["class","alert alert-danger text-center py-2","role","alert",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],["id","username","type","text","formControlName","username","placeholder","Enter username",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","password",1,"form-label"],["id","password","type","password","formControlName","password","placeholder","Enter password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["role","alert",1,"alert","alert-success","text-center","py-2"],["role","alert",1,"alert","alert-danger","text-center","py-2"],[1,"text-danger","small","mt-1"]],template:function(o,t){if(o&1&&(n(0,"div",0)(1,"div",1)(2,"h3",2),a(3,"Login"),i(),f(4,O,2,1,"div",3)(5,B,2,1,"div",4),n(6,"form",5),x("ngSubmit",function(){return t.onSubmit()}),n(7,"div",6)(8,"label",7),a(9,"Username"),i(),p(10,"input",8),f(11,V,2,0,"div",9),i(),n(12,"div",6)(13,"label",10),a(14,"Password"),i(),p(15,"input",11),f(16,U,2,0,"div",9),i(),n(17,"button",12),a(18," Login "),i()()()()),o&2){let m,c;s(4),l("ngIf",t.successMessage),s(),l("ngIf",t.errorMessage),s(),l("formGroup",t.loginForm),s(5),l("ngIf",((m=t.loginForm.get("username"))==null?null:m.invalid)&&((m=t.loginForm.get("username"))==null?null:m.touched)),s(5),l("ngIf",((c=t.loginForm.get("password"))==null?null:c.invalid)&&((c=t.loginForm.get("password"))==null?null:c.touched)),s(),l("disabled",t.loginForm.invalid)}},dependencies:[_,y,G,R,E,L,N,A,D],encapsulation:2})};var j=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:g},{path:"practice-tests",loadChildren:()=>import("./chunk-5MEV6SJ4.js").then(e=>e.PracticeTestsModule)}];var P={providers:[T(j),M()]};var v=class e{title="simbiotik-test";static \u0275fac=function(o){return new(o||e)};static \u0275cmp=u({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,t){o&1&&p(0,"router-outlet")},dependencies:[w],encapsulation:2})};F(v,P).catch(e=>console.error(e));
